============================= test session starts ==============================
platform darwin -- Python 3.13.7, pytest-9.0.1, pluggy-1.6.0 -- /opt/homebrew/opt/python@3.13/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/masa/Clients/Zach/projects/edgar
configfile: pyproject.toml
testpaths: tests
plugins: mock-3.15.1, anyio-4.11.0, timeout-2.4.0, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1097 items / 12 errors

==================================== ERRORS ====================================
_______ ERROR collecting tests/integration/test_ireportgenerator_e2e.py ________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/integration/test_ireportgenerator_e2e.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_ireportgenerator_e2e.py:20: in <module>
    from extract_transform_platform.reports import (
src/extract_transform_platform/reports/__init__.py:72: in <module>
    from .docx_generator import DOCXReportGenerator
src/extract_transform_platform/reports/docx_generator.py:33: in <module>
    from docx import Document
E   ModuleNotFoundError: No module named 'docx'
___________ ERROR collecting tests/test_breakthrough_xbrl_service.py ___________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/test_breakthrough_xbrl_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_breakthrough_xbrl_service.py:17: in <module>
    from edgar_analyzer.services.breakthrough_xbrl_service import BreakthroughXBRLService
src/edgar_analyzer/services/breakthrough_xbrl_service.py:14: in <module>
    import edgar
E   ModuleNotFoundError: No module named 'edgar'
_________ ERROR collecting tests/test_multi_source_enhanced_service.py _________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/test_multi_source_enhanced_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_multi_source_enhanced_service.py:23: in <module>
    from edgar_analyzer.services.multi_source_enhanced_service import MultiSourceEnhancedService
src/edgar_analyzer/services/multi_source_enhanced_service.py:20: in <module>
    from .breakthrough_xbrl_service import BreakthroughXBRLService
src/edgar_analyzer/services/breakthrough_xbrl_service.py:14: in <module>
    import edgar
E   ModuleNotFoundError: No module named 'edgar'
_____________ ERROR collecting tests/test_real_xbrl_extraction.py ______________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/test_real_xbrl_extraction.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_real_xbrl_extraction.py:8: in <module>
    import edgar
E   ModuleNotFoundError: No module named 'edgar'
_____________ ERROR collecting tests/test_xbrl_enhanced_service.py _____________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/test_xbrl_enhanced_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_xbrl_enhanced_service.py:17: in <module>
    from edgar_analyzer.services.xbrl_enhanced_extraction_service import XBRLEnhancedExtractionService
src/edgar_analyzer/services/xbrl_enhanced_extraction_service.py:13: in <module>
    import edgar
E   ModuleNotFoundError: No module named 'edgar'
__________ ERROR collecting tests/unit/reports/test_docx_generator.py __________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/unit/reports/test_docx_generator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/reports/test_docx_generator.py:21: in <module>
    from docx import Document  # For DOCX validation
    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'docx'
_________ ERROR collecting tests/unit/reports/test_excel_generator.py __________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/unit/reports/test_excel_generator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/reports/test_excel_generator.py:20: in <module>
    from extract_transform_platform.reports import (
src/extract_transform_platform/reports/__init__.py:72: in <module>
    from .docx_generator import DOCXReportGenerator
src/extract_transform_platform/reports/docx_generator.py:33: in <module>
    from docx import Document
E   ModuleNotFoundError: No module named 'docx'
_____________ ERROR collecting tests/unit/reports/test_factory.py ______________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/unit/reports/test_factory.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/reports/test_factory.py:13: in <module>
    from extract_transform_platform.reports import (
src/extract_transform_platform/reports/__init__.py:72: in <module>
    from .docx_generator import DOCXReportGenerator
src/extract_transform_platform/reports/docx_generator.py:33: in <module>
    from docx import Document
E   ModuleNotFoundError: No module named 'docx'
__________ ERROR collecting tests/unit/reports/test_pdf_generator.py ___________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/unit/reports/test_pdf_generator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/reports/test_pdf_generator.py:23: in <module>
    from extract_transform_platform.reports import (
src/extract_transform_platform/reports/__init__.py:72: in <module>
    from .docx_generator import DOCXReportGenerator
src/extract_transform_platform/reports/docx_generator.py:33: in <module>
    from docx import Document
E   ModuleNotFoundError: No module named 'docx'
__________ ERROR collecting tests/unit/reports/test_pptx_generator.py __________
ImportError while importing test module '/Users/masa/Clients/Zach/projects/edgar/tests/unit/reports/test_pptx_generator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/reports/test_pptx_generator.py:23: in <module>
    from pptx import Presentation
E   ModuleNotFoundError: No module named 'pptx'
_________ ERROR collecting tests/unit/services/test_example_parser.py __________
import file mismatch:
imported module 'test_example_parser' has this __file__ attribute:
  /Users/masa/Clients/Zach/projects/edgar/tests/unit/services/analysis/test_example_parser.py
which is not the same as the test file we want to collect:
  /Users/masa/Clients/Zach/projects/edgar/tests/unit/services/test_example_parser.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________ ERROR collecting tests/unit/services/test_schema_analyzer.py _________
import file mismatch:
imported module 'test_schema_analyzer' has this __file__ attribute:
  /Users/masa/Clients/Zach/projects/edgar/tests/unit/services/analysis/test_schema_analyzer.py
which is not the same as the test file we want to collect:
  /Users/masa/Clients/Zach/projects/edgar/tests/unit/services/test_schema_analyzer.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
=============================== warnings summary ===============================
src/edgar_analyzer/models/company.py:23
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/models/company.py:23: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('cik')

src/edgar_analyzer/models/company.py:28
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/models/company.py:28: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('ticker')

src/edgar_analyzer/data_sources/__init__.py:18
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/data_sources/__init__.py:18: DeprecationWarning: edgar_analyzer.data_sources.base is deprecated. Import from extract_transform_platform.core instead:
    from extract_transform_platform.core import BaseDataSource, IDataSource
    from .base import IDataSource, BaseDataSource

src/edgar_analyzer/data_sources/__init__.py:19
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/data_sources/__init__.py:19: DeprecationWarning: edgar_analyzer.data_sources.api_source is deprecated. Use 'from extract_transform_platform.data_sources.web import APIDataSource' instead. This wrapper will be removed in a future version.
    from .api_source import APIDataSource

src/edgar_analyzer/data_sources/__init__.py:21
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/data_sources/__init__.py:21: DeprecationWarning: edgar_analyzer.data_sources.file_source is deprecated. Use extract_transform_platform.data_sources.file.file_source instead. This module will be removed in version 2.0.0.
    from .file_source import FileDataSource

src/edgar_analyzer/data_sources/__init__.py:22
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/data_sources/__init__.py:22: DeprecationWarning: edgar_analyzer.data_sources.excel_source is deprecated. Import from extract_transform_platform.data_sources.file.excel_source instead. This wrapper will be removed in a future version.
    from .excel_source import ExcelDataSource

src/edgar_analyzer/data_sources/__init__.py:24
  /Users/masa/Clients/Zach/projects/edgar/src/edgar_analyzer/data_sources/__init__.py:24: DeprecationWarning: edgar_analyzer.data_sources.url_source is deprecated. Use extract_transform_platform.data_sources.URLDataSource instead.
    from .url_source import URLDataSource

tests/test_external_artifacts.py:24
  /Users/masa/Clients/Zach/projects/edgar/tests/test_external_artifacts.py:24: PytestCollectionWarning: cannot collect test class 'TestRunner' because it has a __init__ constructor (from: tests/test_external_artifacts.py)
    class TestRunner:

../../../../../../opt/homebrew/lib/python3.13/site-packages/PyPDF2/__init__.py:21
  /opt/homebrew/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.
    warnings.warn(

tests/unit/test_data_sources.py:31
  /Users/masa/Clients/Zach/projects/edgar/tests/unit/test_data_sources.py:31: DeprecationWarning: edgar_analyzer.utils.rate_limiter is deprecated. Import from extract_transform_platform.utils instead:
    from extract_transform_platform.utils import RateLimiter
    from edgar_analyzer.utils.rate_limiter import RateLimiter

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/integration/test_ireportgenerator_e2e.py
ERROR tests/test_breakthrough_xbrl_service.py
ERROR tests/test_multi_source_enhanced_service.py
ERROR tests/test_real_xbrl_extraction.py
ERROR tests/test_xbrl_enhanced_service.py
ERROR tests/unit/reports/test_docx_generator.py
ERROR tests/unit/reports/test_excel_generator.py
ERROR tests/unit/reports/test_factory.py
ERROR tests/unit/reports/test_pdf_generator.py
ERROR tests/unit/reports/test_pptx_generator.py
ERROR tests/unit/services/test_example_parser.py
ERROR tests/unit/services/test_schema_analyzer.py
!!!!!!!!!!!!!!!!!!! Interrupted: 12 errors during collection !!!!!!!!!!!!!!!!!!!
======================= 10 warnings, 12 errors in 2.48s ========================
